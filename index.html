<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>For Neeti ü§ç | New Year</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-main: #ffeef4;
      --bg-alt: #fceeff;
      --bg-soft: #ffe9dd;
      --text-main: #4b3b4f;
      --accent-pink: #ff9bb8;
      --accent-lavender: #c9b8ff;
      --accent-peach: #ffc7a3;
      --btn-bg: #ffb7c8;
      --btn-bg-hover: #ff9db4;
      --card-bg: rgba(255, 255, 255, 0.9);
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.08);
      --radius-soft: 22px;
      --transition-fast: 0.3s ease;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }

    body {
      font-family: "Poppins", "Quicksand", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top left, #ffe1f0 0, #ffeef4 35%, #fdf5ff 70%, #ffe9dd 100%);
      color: var(--text-main);
      min-height: 100vh;
      overflow-x: hidden;
      scroll-behavior: smooth;
      position: relative;
    }

    /* Floating pastel hearts background */
    .heart-bg { position: fixed; inset: 0; overflow: hidden; z-index: -1; pointer-events: none; }
    .heart { position: absolute; width: 18px; height: 18px; background: radial-gradient(circle at 30% 30%, #fff 0, var(--accent-pink) 40%, #ff7fa6 100%); transform: rotate(45deg); opacity: 0.35; animation: floatUp 14s linear infinite; filter: drop-shadow(0 0 12px rgba(255, 153, 187, 0.8)); }
    .heart::before, .heart::after { content: ""; position: absolute; width: 18px; height: 18px; background: inherit; border-radius: 50%; }
    .heart::before { top: -9px; left: 0; }
    .heart::after { left: -9px; top: 0; }
    @keyframes floatUp { 0% { transform: translateY(0) rotate(45deg); opacity: 0.0; } 10% { opacity: 0.5; } 80% { opacity: 0.5; } 100% { transform: translateY(-120vh) rotate(45deg); opacity: 0; } }

    /* Layout */
    .page-wrapper { max-width: 520px; margin: 0 auto; padding: 24px 18px 110px; }
    section { min-height: 100vh; display: flex; align-items: center; justify-content: center; }
    .card { width: 100%; background: var(--card-bg); border-radius: 26px; padding: 26px 22px 28px; box-shadow: var(--shadow-soft); backdrop-filter: blur(10px); text-align: center; position: relative; overflow: hidden; }
    .card::before { content: ""; position: absolute; width: 160%; height: 160%; background: radial-gradient(circle at top left, rgba(255, 186, 215, 0.32), transparent 60%); top: -40%; left: -40%; opacity: 0; animation: softGlow 8s ease-in-out infinite alternate; pointer-events: none; }
    @keyframes softGlow { 0% { opacity: 0.15 } 50% { opacity: 0.35 } 100% { opacity: 0.2 } }
    .card-inner { position: relative; z-index: 1; }
    h1,h2,h3 { font-weight: 600; letter-spacing: 0.02em; }
    .landing-title { font-size: 1.9rem; line-height: 1.4; margin-bottom: 10px; }
    .subtext { font-size: 0.98rem; opacity: 0.8; margin-bottom: 22px; line-height: 1.6; }
    .soft-label { font-size: 0.76rem; text-transform: uppercase; letter-spacing: 0.12em; color: #a48fb1; margin-bottom: 6px; }

    .btn { display: inline-flex; align-items: center; justify-content: center; padding: 11px 26px; border-radius: 999px; border: none; cursor: pointer; background: linear-gradient(135deg, var(--btn-bg), var(--accent-peach)); color: #5b3a45; font-size: 0.98rem; font-weight: 500; box-shadow: 0 10px 25px rgba(255, 143, 179, 0.55); transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), opacity 0.25s ease; }
    .btn:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 18px 40px rgba(255, 136, 185, 0.7); background: linear-gradient(135deg, var(--btn-bg-hover), var(--accent-pink)); }
    .btn:active { transform: translateY(0) scale(0.99); box-shadow: 0 8px 20px rgba(255, 136, 185, 0.5); }
    .btn:focus { outline: 3px solid rgba(201,184,255,0.25); outline-offset: 3px; }

    .btn-secondary { background: linear-gradient(135deg, #f7e7ff, #ffe8f0); box-shadow: 0 8px 22px rgba(193, 155, 255, 0.4); }
    .btn-small { font-size: 0.86rem; padding: 9px 18px; }
    .btn span { margin-left: 6px; }

    .fade-in { opacity: 0; transform: translateY(10px); animation: fadeInUp 0.9s ease forwards; }
    .fade-in-delay-1 { animation-delay: 0.18s; }
    .fade-in-delay-2 { animation-delay: 0.32s; }
    .fade-in-delay-3 { animation-delay: 0.46s; }
    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

    /* New Year visuals */
    .soft-ambient { position: absolute; inset: 0; pointer-events: none; overflow: hidden; }
    .orb { position: absolute; width: 110px; height: 110px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(201,184,255,0.3), transparent 70%); mix-blend-mode: screen; filter: blur(1px); opacity: 0.75; animation: drift 14s ease-in-out infinite alternate; }
    .orb.pink { background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,176,211,0.45), transparent 70%); }
    .orb.peach { background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,199,163,0.5), transparent 70%); }
    .orb-1 { top: -30px; left: -10px; }
    .orb-2 { bottom: -40px; right: -10px; }
    .orb-3 { top: 40%; right: -40px; }
    @keyframes drift { 0% { transform: translate3d(0, 0, 0) scale(0.9); opacity: 0.6; } 50% { transform: translate3d(15px, -12px, 0) scale(1.05); opacity: 0.85; } 100% { transform: translate3d(-10px, 10px, 0) scale(1); opacity: 0.7; } }

    /* Notes */
    .notes-grid { display: grid; grid-template-columns: 1fr; gap: 14px; margin-top: 8px; }
    @media (min-width: 520px) { .notes-grid { grid-template-columns: 1fr 1fr; } }

    .note-heart { position: relative; padding: 14px 12px 16px; border-radius: 22px; background: linear-gradient(135deg, rgba(255, 240, 250, 0.96), rgba(245, 235, 255, 0.96)); box-shadow: 0 12px 30px rgba(199, 160, 255, 0.25); border: 1px solid rgba(255, 182, 210, 0.6); cursor: pointer; overflow: hidden; transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast); text-align: left; }
    .note-heart:focus { outline: 3px solid rgba(255,199,163,0.22); outline-offset: 3px; }
    .note-heart::before { content: "‚ô•"; position: absolute; top: 8px; right: 12px; font-size: 1.1rem; color: #ff93b9; opacity: 0.6; text-shadow: 0 0 10px rgba(255, 119, 179, 0.9); }
    .note-heart:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(199, 160, 255, 0.36); background: linear-gradient(135deg, rgba(255, 236, 248, 0.98), rgba(240, 225, 255, 0.98)); }
    .note-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.13em; color: #b195c5; margin-bottom: 6px; }
    .note-text { font-size: 0.94rem; line-height: 1.6; color: var(--text-main); opacity: 0; transform: translateY(4px); max-height: 0; transition: opacity 0.38s ease, transform 0.38s ease, max-height 0.38s ease; }
    .note-heart.active .note-text { opacity: 1; transform: translateY(0); max-height: 200px; }
    .tap-hint { font-size: 0.8rem; color: #c0abc8; margin-bottom: 6px; }

    /* Final */
    .final-title { font-size: 1.9rem; margin-bottom: 12px; }
    .final-message { font-size: 1rem; line-height: 1.7; opacity: 0.9; white-space: pre-line; margin-bottom: 22px; }
    .final-subtle { font-size: 0.82rem; opacity: 0.7; margin-top: 4px; }

    /* Music controls */
    .music-pill { position: fixed; bottom: 14px; right: 12px; left: 12px; max-width: 360px; margin: 0 auto; padding: 8px 11px; background: rgba(255, 248, 253, 0.92); border-radius: 999px; box-shadow: 0 12px 35px rgba(168, 126, 224, 0.35); display: flex; align-items: center; justify-content: space-between; gap: 10px; z-index: 20; backdrop-filter: blur(12px); }
    .music-pill-left { display: flex; align-items: center; gap: 8px; }
    .music-dot { width: 24px; height: 24px; border-radius: 50%; background: radial-gradient(circle at 20% 20%, #fff, #ffb6d4); display: flex; align-items: center; justify-content: center; box-shadow: 0 0 12px rgba(255, 136, 185, 0.8); position: relative; overflow: hidden; }
    .music-dot::after { content: ""; position: absolute; inset: -4px; border-radius: inherit; border: 1px solid rgba(255, 255, 255, 0.6); opacity: 0; transform: scale(1.15); transition: opacity 0.4s ease; }
    .music-dot.playing::after { opacity: 1; animation: pulseRing 1.7s ease-out infinite; }
    @keyframes pulseRing { 0% { transform: scale(1.15); opacity: 0.7; } 100% { transform: scale(1.35); opacity: 0; } }
    .music-note { font-size: 0.78rem; color: #7d4b62; }
    .music-text-main { font-size: 0.78rem; font-weight: 500; color: #6b4c6f; }
    .music-text-sub { font-size: 0.7rem; opacity: 0.7; }
    .music-toggle-btn { border-radius: 999px; border: none; padding: 6px 12px; font-size: 0.78rem; font-weight: 500; background: linear-gradient(135deg, #f1dfff, #ffd9ec); color: #664465; cursor: pointer; box-shadow: 0 6px 16px rgba(191, 149, 255, 0.5); display: inline-flex; align-items: center; gap: 4px; transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease; }
    .music-toggle-btn:hover { transform: translateY(-1px); box-shadow: 0 10px 24px rgba(191, 149, 255, 0.6); background: linear-gradient(135deg, #ecd5ff, #ffd2e6); }

    .music-status-pill { font-size: 0.7rem; padding: 2px 7px; border-radius: 999px; background: rgba(255, 211, 230, 0.95); color: #734257; }

    /* final heart burst */
    .final-heart-burst { position: fixed; inset: 0; display: none; pointer-events: none; z-index: 30; }
    .final-heart { position: absolute; width: 22px; height: 22px; background: radial-gradient(circle at 30% 30%, #fff, #ff9cbc); transform: rotate(45deg); opacity: 0; filter: drop-shadow(0 0 8px rgba(255,140,170,0.8)); }
    .final-heart::before, .final-heart::after { content: ""; position: absolute; width: 22px; height: 22px; background: inherit; border-radius: 50%; }
    .final-heart::before { top: -11px; left: 0; } .final-heart::after { left: -11px; top: 0; }
    @keyframes burstUp { 0% { transform: translateY(20px) rotate(45deg) scale(0.6); opacity: 0 } 30% { opacity: 1 } 70% { opacity: 0.9 } 100% { transform: translateY(-120px) rotate(45deg) scale(1.15); opacity: 0 } }

    /* Section background variants */
    #landing .card { background: linear-gradient(145deg, rgba(255, 245, 252, 0.98), rgba(255, 238, 250, 0.98)); }
    #newyear .card { background: linear-gradient(145deg, rgba(252, 236, 255, 0.98), rgba(255, 237, 243, 0.98)); }
    #notes .card { background: linear-gradient(145deg, rgba(255, 242, 250, 0.98), rgba(243, 234, 255, 0.98)); }
    #final .card { background: linear-gradient(145deg, rgba(255, 241, 244, 0.98), rgba(255, 236, 231, 0.98)); }

    .meta-text { font-size: 0.8rem; opacity: 0.75; margin-top: 8px; }
    .bg-soft-tag { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; background: rgba(255, 233, 246, 0.95); font-size: 0.75rem; margin-bottom: 12px; color: #a26b83; }
    .dot-soft { width: 8px; height: 8px; border-radius: 50%; background: linear-gradient(135deg, #ffabc7, #ffc7a3); box-shadow: 0 0 12px rgba(255, 153, 187, 0.8); }

    .soft-fireworks { display: flex; justify-content: center; gap: 26px; margin-bottom: 18px; margin-top: 4px; }
    .spark { width: 10px; height: 10px; border-radius: 50%; background: radial-gradient(circle, #fff, #ffc7a3); box-shadow: 0 0 14px rgba(255,199,163,0.9), 0 0 24px rgba(255,199,163,0.6); animation: twinkle 1.9s ease-in-out infinite alternate; }
    .spark.lav { background: radial-gradient(circle, #fff, #c9b8ff); box-shadow: 0 0 14px rgba(201,184,255,0.9), 0 0 24px rgba(201,184,255,0.6); animation-delay: 0.6s; }
    .spark.pink { background: radial-gradient(circle, #fff, #ff9bb8); box-shadow: 0 0 14px rgba(255,155,184,0.9), 0 0 24px rgba(255,155,184,0.6); animation-delay: 1.1s; }
    @keyframes twinkle { 0% { transform: scale(0.8); opacity: 0.4 } 40% { transform: scale(1.05); opacity: 0.9 } 100% { transform: scale(0.9); opacity: 0.6 } }

    .tiny-caption { font-size: 0.72rem; opacity: 0.7; margin-top: 4px; }

    @media (min-width: 768px) {
      .page-wrapper { padding-top: 40px; padding-bottom: 50px; }
      .card { padding: 30px 30px 32px; border-radius: 30px; }
      .landing-title { font-size: 2.05rem; }
      .final-title { font-size: 2.1rem; }
    }
  </style>
</head>
<body>
  <!-- Background floating hearts -->
  <div class="heart-bg" id="heart-bg" aria-hidden="true"></div>

  <!-- Soft heart burst for final button -->
  <div class="final-heart-burst" id="finalBurst" aria-hidden="true"></div>

  <!-- Main content -->
  <div class="page-wrapper">
    <!-- Landing Section -->
    <section id="landing">
      <div class="card fade-in" role="region" aria-labelledby="landingTitle">
        <div class="card-inner">
          <div class="bg-soft-tag" aria-hidden="true">
            <div class="dot-soft"></div>
            <span>Soft late-night confession</span>
          </div>

          <h1 id="landingTitle" class="landing-title">Hey Neeti ü§ç<br />I made this just for you.</h1>

          <p class="subtext">Take a deep breath‚Ä¶ and step into our little moment.</p>

          <button class="btn" onclick="goToSection('newyear')" id="beginBtn">Begin <span>‚ú®</span></button>

          <p class="meta-text">Best with sound on, somewhere quiet and cozy.</p>
        </div>
      </div>
    </section>

    <!-- New Year Section -->
    <section id="newyear">
      <div class="card fade-in fade-in-delay-1" role="region" aria-labelledby="newyearTitle">
        <div class="soft-ambient" aria-hidden="true">
          <div class="orb orb-1"></div>
          <div class="orb orb-2 pink"></div>
          <div class="orb orb-3 peach"></div>
        </div>

        <div class="card-inner">
          <div class="soft-fireworks" aria-hidden="true">
            <div class="spark lav"></div>
            <div class="spark pink"></div>
            <div class="spark"></div>
          </div>

          <h2 id="newyearTitle" style="font-size: 1.6rem; margin-bottom: 10px;">
            A new year begins‚Ä¶<br />and my heart still chooses you.
          </h2>

          <p class="subtext">Some feelings don‚Äôt change with time.</p>

          <button class="btn btn-secondary" onclick="goToSection('notes')">Keep going ü§ç</button>

          <p class="tiny-caption">Somewhere between one year and the next, it‚Äôs still you.</p>
        </div>
      </div>
    </section>

    <!-- Interactive Love Notes Section -->
    <section id="notes">
      <div class="card fade-in fade-in-delay-2" role="region" aria-labelledby="notesTitle">
        <div class="card-inner">
          <p class="soft-label">Little heart-notes</p>
          <h3 id="notesTitle" style="font-size: 1.35rem; margin-bottom: 6px;">Tap the hearts gently.</h3>
          <p class="subtext" style="margin-bottom: 14px;">Each one is a small piece of how you live in my heart.</p>

          <div class="notes-grid" id="notesGrid">
            <div class="note-heart" role="button" tabindex="0" aria-expanded="false" onclick="toggleNote(this)" onkeydown="noteKeyDown(event,this)">
              <div class="note-label">Note one</div>
              <div class="tap-hint">Tap to open.</div>
              <div class="note-text">You feel like home to me.</div>
            </div>

            <div class="note-heart" role="button" tabindex="0" aria-expanded="false" onclick="toggleNote(this)" onkeydown="noteKeyDown(event,this)">
              <div class="note-label">Note two</div>
              <div class="tap-hint">Tap to open.</div>
              <div class="note-text">Even in silence, I feel you.</div>
            </div>

            <div class="note-heart" role="button" tabindex="0" aria-expanded="false" onclick="toggleNote(this)" onkeydown="noteKeyDown(event,this)">
              <div class="note-label">Note three</div>
              <div class="tap-hint">Tap to open.</div>
              <div class="note-text">Somewhere between moments, you became my favorite.</div>
            </div>

            <div class="note-heart" role="button" tabindex="0" aria-expanded="false" onclick="toggleNote(this)" onkeydown="noteKeyDown(event,this)">
              <div class="note-label">This year too</div>
              <div class="tap-hint">Tap to open.</div>
              <div class="note-text">This year too‚Ä¶ it‚Äôs you.</div>
            </div>
          </div>

            <div style="margin-top: 20px;">
            <button class="btn btn-small" onclick="goToSection('final')">Drift to the last page ü§ç</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Final Wish Section -->
    <section id="final">
      <div class="card fade-in fade-in-delay-3" role="region" aria-labelledby="finalTitle">
        <div class="card-inner">
          <p class="soft-label">From me to you</p>
          <h2 id="finalTitle" class="final-title">Happy New Year, Neeti üéÜü§ç</h2>

          <p class="final-message" id="finalMessage">
With every note of this song,
with every passing year,
my heart finds its way back to you.

No matter where life takes us,
you remain my constant.
          </p>

          <button class="btn" id="finalBtn" onclick="triggerFinalBurst();">Hold this heart ü§ç</button>

          <p class="final-subtle" style="margin-top:12px;">Play the song, lean back, and know you're loved.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- YouTube player container (hidden visual) -->
  <div id="ytPlayer" style="width:0;height:0;overflow:hidden;position:absolute;left:-9999px;top:-9999px" aria-hidden="true"></div>

  <!-- Music pill -->
  <div class="music-pill" role="region" aria-label="Music controls">
    <div class="music-pill-left">
      <div class="music-dot" id="musicDot" aria-hidden="true">
        <div class="music-note">‚ô™</div>
      </div>
      <div>
        <div class="music-text-main" id="trackTitle">YouTube Track</div>
        <div class="music-text-sub" id="trackArtist">From YouTube</div>
      </div>
    </div>

    <div style="display:flex;align-items:center;gap:8px">
      <div class="music-status-pill" id="musicStatus">paused</div>
      <button class="music-toggle-btn" id="musicToggle" onclick="toggleMusic()" aria-pressed="false">Play</button>
    </div>
  </div>

  <script>
    /* -------------------------
       Section navigation + notes
       ------------------------- */
    function goToSection(id){
      const el = document.getElementById(id);
      if(!el) return;
      el.scrollIntoView({behavior:'smooth',block:'start'});
      setTimeout(()=>{
        const focusable = el.querySelector('button, [tabindex], a, input, textarea');
        if(focusable) focusable.focus({preventScroll:true});
      },420);
    }

    function toggleNote(elem){
      if(!elem) return;
      const isActive = elem.classList.contains('active');
      document.querySelectorAll('.note-heart.active').forEach(n=>{
        n.classList.remove('active');
        n.setAttribute('aria-expanded','false');
      });
      if(!isActive){
        elem.classList.add('active');
        elem.setAttribute('aria-expanded','true');
      } else {
        elem.setAttribute('aria-expanded','false');
      }
    }

    function noteKeyDown(e, elem){
      if(!elem) return;
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault();
        toggleNote(elem);
      } else if(e.key === 'Escape'){
        elem.classList.remove('active');
        elem.setAttribute('aria-expanded','false');
      }
    }

    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){
        document.querySelectorAll('.note-heart.active').forEach(n=>{
          n.classList.remove('active');
          n.setAttribute('aria-expanded','false');
        });
      }
    });

    /* -------------------------
       Floating hearts animation
       ------------------------- */
    function createHearts(){
      const container = document.getElementById('heart-bg');
      if(!container) return;
      const count = Math.min(Math.round(window.innerWidth/30), 24);
      for(let i=0;i<count;i++){
        const h = document.createElement('div');
        h.className = 'heart';
        const size = 12 + Math.round(Math.random()*18);
        h.style.width = size+'px';
        h.style.height = size+'px';
        h.style.left = Math.round(Math.random()*100)+'%';
        h.style.top = Math.round(40 + Math.random()*60)+'%';
        h.style.animationDuration = (12 + Math.random()*10)+'s';
        h.style.opacity = (0.15 + Math.random()*0.6).toFixed(2);
        h.style.transform = 'rotate(45deg)';
        container.appendChild(h);
      }
    }

    createHearts();
    window.addEventListener('resize', ()=>{
      const c = document.getElementById('heart-bg');
      if(!c) return;
      c.innerHTML = '';
      createHearts();
    });

    /* -------------------------
       Final burst hearts
       ------------------------- */
    function triggerFinalBurst(){
      const burst = document.getElementById('finalBurst');
      if(!burst) return;
      burst.style.display = 'block';
      burst.innerHTML = '';
      const count = 28;
      for(let i=0;i<count;i++){
        const fh = document.createElement('div');
        fh.className = 'final-heart';
        fh.style.left = (50 + (Math.random()*240-120))+'px';
        fh.style.top = (50 + (Math.random()*140-70))+'px';
        fh.style.animation = 'burstUp '+(1.2+Math.random()*0.9)+'s cubic-bezier(.17,.7,.5,1) forwards';
        fh.style.transform = 'rotate(45deg)';
        burst.appendChild(fh);
      }
      setTimeout(()=>{ burst.style.display='none'; burst.innerHTML=''; }, 1700);
    }

    /* -------------------------
       YouTube audio controls (lightweight)
       ------------------------- */
    let playerReady = false;
    let ytPlayer;
    let currentVideoId = '';
    function loadYouTube(videoId){
      if(!videoId) return;
      currentVideoId = videoId;
      if(window.YT && window.YT.Player){
        createYTPlayer(videoId);
        return;
      }
      const tag = document.createElement('script');
      tag.src = 'https://www.youtube.com/iframe_api';
      document.body.appendChild(tag);
      window.onYouTubeIframeAPIReady = ()=>createYTPlayer(videoId);
    }

    function createYTPlayer(videoId){
      ytPlayer = new YT.Player('ytPlayer', {
        height: '0', width: '0', videoId: videoId,
        playerVars: { autoplay: 0, controls: 0, modestbranding: 1, rel: 0 },
        events: {
          onReady: ()=>{ playerReady=true; updateTrackInfo(); },
          onStateChange: (e)=>{ updatePlayerState(e.data); }
        }
      });
    }

    function updateTrackInfo(){
      const titleEl = document.getElementById('trackTitle');
      const artistEl = document.getElementById('trackArtist');
      if(!ytPlayer || !ytPlayer.getVideoData) return;
      const data = ytPlayer.getVideoData();
      titleEl.textContent = data.title || 'YouTube Track';
      artistEl.textContent = data.author || 'YouTube';
    }

    function updatePlayerState(state){
      const status = document.getElementById('musicStatus');
      const dot = document.getElementById('musicDot');
      const btn = document.getElementById('musicToggle');
      if(state === YT.PlayerState.PLAYING){
        status.textContent = 'playing';
        btn.textContent = 'Pause';
        btn.setAttribute('aria-pressed','true');
        dot.classList.add('playing');
      } else {
        status.textContent = 'paused';
        btn.textContent = 'Play';
        btn.setAttribute('aria-pressed','false');
        dot.classList.remove('playing');
      }
    }

    function toggleMusic(){
      if(!playerReady || !ytPlayer) return;
      const state = ytPlayer.getPlayerState();
      if(state === YT.PlayerState.PLAYING){ ytPlayer.pauseVideo(); }
      else { ytPlayer.playVideo(); }
    }

    /* Auto-load a gentle background track (replace with your chosen YouTube ID)
       To change the track, set `defaultVideoId` below to any YouTube video id. */
    const defaultVideoId = '';
    if(defaultVideoId) loadYouTube(defaultVideoId);

    /* Accessibility: ensure focus outlines are visible for keyboard users */
    document.body.addEventListener('keydown', ()=>{ document.body.classList.add('keyboard-user'); }, { once:true });

    /* Keep focus in view on load */
    window.addEventListener('load', ()=>{ document.getElementById('beginBtn').focus(); });

    // End of script
  </script>
</body>
</html>
